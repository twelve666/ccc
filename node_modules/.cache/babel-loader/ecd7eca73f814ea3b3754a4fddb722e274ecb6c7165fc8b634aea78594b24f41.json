{"ast":null,"code":"var _s = $RefreshSig$();\n// src/lang/i18n.ts\nimport { createContext, useContext } from 'react';\nimport en from './en';\nimport cn from './cn';\nconst translationsMap = {\n  en,\n  cn\n};\nexport const I18nContext = /*#__PURE__*/createContext({\n  locale: 'en',\n  translations: translationsMap['en'],\n  setLocale: () => {}\n});\nexport { translationsMap };\nconst formatString = (str, params) => {\n  return str.replace(/{(\\w+)}/g, (_, key) => params[key] ? params[key].toString() : '');\n};\nexport const useTranslation = () => {\n  _s();\n  const {\n    translations\n  } = useContext(I18nContext);\n  const t = (key, params) => {\n    const translation = translations[key] || key;\n    console.log('translation', translation);\n    return params ? formatString(translation, params) : translation;\n  };\n  return {\n    t\n  };\n};\n_s(useTranslation, \"hOCbFljQBxvGM0d3yrZWVY+RT6k=\");","map":{"version":3,"names":["createContext","useContext","en","cn","translationsMap","I18nContext","locale","translations","setLocale","formatString","str","params","replace","_","key","toString","useTranslation","_s","t","translation","console","log"],"sources":["/Users/summer/Desktop/2/filbet-client-web-ui/src/lang/i18n.ts"],"sourcesContent":["// src/lang/i18n.ts\nimport React, { createContext, useContext } from 'react';\nimport en from './en';\nimport cn from './cn';\n\nexport type Locale = 'en' | 'cn';\n\nexport type Translations = typeof en | typeof cn;\n\ninterface I18nContextProps {\n    locale: Locale;\n    translations: Translations;\n    setLocale: (locale: Locale) => void;\n}\n\nconst translationsMap: { [key in Locale]: Translations } = {\n    en,\n    cn,\n};\n\nexport const I18nContext = createContext<I18nContextProps>({\n    locale: 'en',\n    translations: translationsMap['en'],\n    setLocale: () => { },\n});\n\nexport { translationsMap };\ntype TranslateParams = {\n    [key: string]: string | number;\n};\n\nconst formatString = (str: string, params: TranslateParams) => {\n    return str.replace(/{(\\w+)}/g, (_, key) => params[key] ? params[key].toString() : '');\n};\n\nexport const useTranslation = () => {\n    const { translations } = useContext(I18nContext);\n    const t = (key: string, params?: TranslateParams): string => {\n        const translation = (translations as any)[key] || key;\n        console.log('translation', translation)\n        return params ? formatString(translation, params) : translation;\n    };\n    return { t };\n};\n"],"mappings":";AAAA;AACA,SAAgBA,aAAa,EAAEC,UAAU,QAAQ,OAAO;AACxD,OAAOC,EAAE,MAAM,MAAM;AACrB,OAAOC,EAAE,MAAM,MAAM;AAYrB,MAAMC,eAAkD,GAAG;EACvDF,EAAE;EACFC;AACJ,CAAC;AAED,OAAO,MAAME,WAAW,gBAAGL,aAAa,CAAmB;EACvDM,MAAM,EAAE,IAAI;EACZC,YAAY,EAAEH,eAAe,CAAC,IAAI,CAAC;EACnCI,SAAS,EAAEA,CAAA,KAAM,CAAE;AACvB,CAAC,CAAC;AAEF,SAASJ,eAAe;AAKxB,MAAMK,YAAY,GAAGA,CAACC,GAAW,EAAEC,MAAuB,KAAK;EAC3D,OAAOD,GAAG,CAACE,OAAO,CAAC,UAAU,EAAE,CAACC,CAAC,EAAEC,GAAG,KAAKH,MAAM,CAACG,GAAG,CAAC,GAAGH,MAAM,CAACG,GAAG,CAAC,CAACC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC;AACzF,CAAC;AAED,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChC,MAAM;IAAEV;EAAa,CAAC,GAAGN,UAAU,CAACI,WAAW,CAAC;EAChD,MAAMa,CAAC,GAAGA,CAACJ,GAAW,EAAEH,MAAwB,KAAa;IACzD,MAAMQ,WAAW,GAAIZ,YAAY,CAASO,GAAG,CAAC,IAAIA,GAAG;IACrDM,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEF,WAAW,CAAC;IACvC,OAAOR,MAAM,GAAGF,YAAY,CAACU,WAAW,EAAER,MAAM,CAAC,GAAGQ,WAAW;EACnE,CAAC;EACD,OAAO;IAAED;EAAE,CAAC;AAChB,CAAC;AAACD,EAAA,CARWD,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}