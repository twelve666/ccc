{"ast":null,"code":"var _jsxFileName = \"/Users/summer/Desktop/2/filbet-client-web-ui/src/App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useEffect, createContext, useState, useLayoutEffect, useContext } from 'react';\nimport { I18nContext, useTranslation, translationsMap } from './lang/i18n';\n// import { useTranslation } from './lang/useTranslation';\nimport { useRoutes } from \"react-router-dom\";\nimport routes from './router';\n// 判断当前视口是否为移动端大小\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const checkIsMobile = () => {\n  return window.innerWidth <= 620;\n};\n// 保存是否移动端状态的 context\nexport const IsMobileContext = /*#__PURE__*/createContext(false);\nconst App = () => {\n  _s();\n  const [isMobile, setIsMobile] = useState(checkIsMobile);\n  useEffect(() => {\n    const resizeHandler = () => {\n      const currentIsMobile = checkIsMobile();\n      setIsMobile(currentIsMobile);\n    };\n    // 监听 window 的 resize 事件，窗口大小改变时重新计算 isMobile 的值\n    window.addEventListener('resize', resizeHandler);\n    // 组件销毁时取消事件监听\n    return () => window.removeEventListener('resize', resizeHandler);\n  }, []);\n  useLayoutEffect(() => {\n    const bodyClass = isMobile ? 'mobile' : 'pc';\n    const classToRemove = bodyClass === 'mobile' ? 'pc' : 'mobile';\n    document.body.classList.remove(classToRemove);\n    document.body.classList.add(bodyClass);\n  }, [isMobile]);\n  // i18n 语言\n  const {\n    locale,\n    setLocale\n  } = useContext(I18nContext);\n  const value = {\n    locale,\n    translations: translationsMap[locale],\n    setLocale\n  };\n  // const [locale, setLocaleState] = useState<Locale>('cn');\n  // const dispatch = useAppDispatch();\n  // useEffect(() => {\n  //     dispatch(setMenus(defaultMenus));\n  // }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(I18nContext.Provider, {\n    value: value,\n    children: /*#__PURE__*/_jsxDEV(IsMobileContext.Provider, {\n      value: isMobile,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(LanguageSwitcher, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Greeting, {\n          greetingKey: \"greeting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(WelcomeMessage, {\n          name: \"John\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), useRoutes(routes)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"lLITA0f3Qnq+ELHoRXvD7bI+TMA=\", false, function () {\n  return [useRoutes];\n});\n_c = App;\nconst LanguageSwitcher = () => {\n  _s2();\n  const {\n    setLocale\n  } = useContext(I18nContext);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setLocale('en'),\n      children: \"English\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setLocale('cn'),\n      children: \"\\u4E2D\\u6587\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s2(LanguageSwitcher, \"4EbVwiwnWImDkQ+13MtaVsuaXZ4=\");\n_c2 = LanguageSwitcher;\nconst Greeting = ({\n  greetingKey\n}) => {\n  _s3();\n  const {\n    t\n  } = useTranslation();\n  return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: t(greetingKey)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 10\n  }, this);\n};\n_s3(Greeting, \"zlIdU9EjM2llFt74AbE2KsUJXyM=\", false, function () {\n  return [useTranslation];\n});\n_c3 = Greeting;\nconst WelcomeMessage = ({\n  name\n}) => {\n  _s4();\n  const {\n    t\n  } = useTranslation();\n  return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: t('home', {\n      name\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 10\n  }, this);\n};\n_s4(WelcomeMessage, \"zlIdU9EjM2llFt74AbE2KsUJXyM=\", false, function () {\n  return [useTranslation];\n});\n_c4 = WelcomeMessage;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"LanguageSwitcher\");\n$RefreshReg$(_c3, \"Greeting\");\n$RefreshReg$(_c4, \"WelcomeMessage\");","map":{"version":3,"names":["React","useEffect","createContext","useState","useLayoutEffect","useContext","I18nContext","useTranslation","translationsMap","useRoutes","routes","jsxDEV","_jsxDEV","checkIsMobile","window","innerWidth","IsMobileContext","App","_s","isMobile","setIsMobile","resizeHandler","currentIsMobile","addEventListener","removeEventListener","bodyClass","classToRemove","document","body","classList","remove","add","locale","setLocale","value","translations","Provider","children","className","LanguageSwitcher","fileName","_jsxFileName","lineNumber","columnNumber","Greeting","greetingKey","WelcomeMessage","name","_c","_s2","onClick","_c2","_s3","t","_c3","_s4","_c4","$RefreshReg$"],"sources":["/Users/summer/Desktop/2/filbet-client-web-ui/src/App.tsx"],"sourcesContent":["import React, { useEffect, createContext, useState, useLayoutEffect, useContext } from 'react';\nimport { LocaleContext, getLocale, setLocale } from \"./lang/i18n1\"\nimport { I18nContext, useTranslation, translationsMap } from './lang/i18n';\n// import { useTranslation } from './lang/useTranslation';\nimport { useRoutes } from \"react-router-dom\";\nimport routes from './router'\n// 判断当前视口是否为移动端大小\nexport const checkIsMobile = () => {\n  return window.innerWidth <= 620\n}\n// 保存是否移动端状态的 context\nexport const IsMobileContext = createContext<boolean>(false)\nconst App: React.FC = () => {\n  const [isMobile, setIsMobile] = useState(checkIsMobile)\n  useEffect(() => {\n    const resizeHandler = () => {\n      const currentIsMobile = checkIsMobile()\n      setIsMobile(currentIsMobile)\n    }\n    // 监听 window 的 resize 事件，窗口大小改变时重新计算 isMobile 的值\n    window.addEventListener('resize', resizeHandler)\n    // 组件销毁时取消事件监听\n    return () => window.removeEventListener('resize', resizeHandler)\n  }, [])\n  useLayoutEffect(() => {\n    type BodyClassName = 'pc' | 'mobile'\n    const bodyClass: BodyClassName = isMobile ? 'mobile' : 'pc'\n    const classToRemove: BodyClassName = bodyClass === 'mobile' ? 'pc' : 'mobile'\n    document.body.classList.remove(classToRemove)\n    document.body.classList.add(bodyClass)\n  }, [isMobile])\n  // i18n 语言\n  const { locale, setLocale } = useContext(I18nContext);\n  const value = {\n    locale,\n    translations: translationsMap[locale],\n    setLocale,\n  };\n  // const [locale, setLocaleState] = useState<Locale>('cn');\n  // const dispatch = useAppDispatch();\n  // useEffect(() => {\n  //     dispatch(setMenus(defaultMenus));\n  // }, [dispatch]);\n  return (\n    <I18nContext.Provider value={value}>\n      <IsMobileContext.Provider value={isMobile}>\n        <div className=\"main\">\n          <LanguageSwitcher />\n          <Greeting greetingKey=\"greeting\" />\n          <WelcomeMessage name=\"John\" />\n          {useRoutes(routes)}\n        </div>\n      </IsMobileContext.Provider>\n    </I18nContext.Provider>\n\n  );\n};\nconst LanguageSwitcher: React.FC = () => {\n  const { setLocale } = useContext(I18nContext);\n  return (\n    <div>\n      <button onClick={() => setLocale('en')}>English</button>\n      <button onClick={() => setLocale('cn')}>中文</button>\n    </div>\n  );\n};\nconst Greeting: React.FC<{ greetingKey: string }> = ({ greetingKey }) => {\n  const { t } = useTranslation();\n  return <h1>{t(greetingKey)}</h1>;\n};\n\nconst WelcomeMessage: React.FC<{ name: string }> = ({ name }) => {\n  const { t } = useTranslation();\n  return <h1>{t('home', { name })}</h1>;\n};\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}