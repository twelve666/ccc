{"ast":null,"code":"var _jsxFileName = \"/Users/summer/Desktop/2/filbet-client-web-ui/src/App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, createContext, useState, useLayoutEffect } from 'react';\nimport { setLocale } from \"./lang/i18n1\";\nimport { I18nContext, translationsMap } from './lang/i18n';\nimport { useTranslation } from './lang/useTranslation';\nimport { useRoutes } from \"react-router-dom\";\nimport routes from './router';\n// 判断当前视口是否为移动端大小\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const checkIsMobile = () => {\n  return window.innerWidth <= 620;\n};\n// 保存是否移动端状态的 context\nexport const IsMobileContext = /*#__PURE__*/createContext(false);\nconst App = () => {\n  _s();\n  const [isMobile, setIsMobile] = useState(checkIsMobile);\n  useEffect(() => {\n    const resizeHandler = () => {\n      const currentIsMobile = checkIsMobile();\n      setIsMobile(currentIsMobile);\n    };\n    // 监听 window 的 resize 事件，窗口大小改变时重新计算 isMobile 的值\n    window.addEventListener('resize', resizeHandler);\n    // 组件销毁时取消事件监听\n    return () => window.removeEventListener('resize', resizeHandler);\n  }, []);\n  useLayoutEffect(() => {\n    const bodyClass = isMobile ? 'mobile' : 'pc';\n    const classToRemove = bodyClass === 'mobile' ? 'pc' : 'mobile';\n    document.body.classList.remove(classToRemove);\n    document.body.classList.add(bodyClass);\n  }, [isMobile]);\n  // i18n 语言\n  // const value = {\n  //   locale: getLocale(),\n  //   setLocale,\n  // }\n  const [locale, setLocaleState] = useState('en');\n  // const dispatch = useAppDispatch();\n  // useEffect(() => {\n  //     dispatch(setMenus(defaultMenus));\n  // }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(I18nContext.Provider, {\n    value: {\n      locale,\n      translations: translationsMap[locale],\n      setLocale\n    },\n    children: /*#__PURE__*/_jsxDEV(IsMobileContext.Provider, {\n      value: isMobile,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(Greeting, {\n          greetingKey: \"greeting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(WelcomeMessage, {\n          name: \"John\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), useRoutes(routes)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"cF2KHQUTHFsDbufTR3Odk8MP4KE=\", false, function () {\n  return [useRoutes];\n});\n_c = App;\nconst Greeting = ({\n  greetingKey\n}) => {\n  _s2();\n  const {\n    t\n  } = useTranslation();\n  return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: t(greetingKey)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 10\n  }, this);\n};\n_s2(Greeting, \"zlIdU9EjM2llFt74AbE2KsUJXyM=\", false, function () {\n  return [useTranslation];\n});\n_c2 = Greeting;\nconst WelcomeMessage = ({\n  name\n}) => {\n  _s3();\n  const {\n    t\n  } = useTranslation();\n  return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: t('welcome_message', {\n      name\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 10\n  }, this);\n};\n_s3(WelcomeMessage, \"zlIdU9EjM2llFt74AbE2KsUJXyM=\", false, function () {\n  return [useTranslation];\n});\n_c3 = WelcomeMessage;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Greeting\");\n$RefreshReg$(_c3, \"WelcomeMessage\");","map":{"version":3,"names":["React","useEffect","createContext","useState","useLayoutEffect","setLocale","I18nContext","translationsMap","useTranslation","useRoutes","routes","jsxDEV","_jsxDEV","checkIsMobile","window","innerWidth","IsMobileContext","App","_s","isMobile","setIsMobile","resizeHandler","currentIsMobile","addEventListener","removeEventListener","bodyClass","classToRemove","document","body","classList","remove","add","locale","setLocaleState","Provider","value","translations","children","className","Greeting","greetingKey","fileName","_jsxFileName","lineNumber","columnNumber","WelcomeMessage","name","_c","_s2","t","_c2","_s3","_c3","$RefreshReg$"],"sources":["/Users/summer/Desktop/2/filbet-client-web-ui/src/App.tsx"],"sourcesContent":["import React, { useEffect, createContext, useState, useLayoutEffect } from 'react';\nimport { LocaleContext, getLocale, setLocale } from \"./lang/i18n1\"\nimport { I18nContext, Locale, translationsMap } from './lang/i18n';\nimport { useTranslation } from './lang/useTranslation';\nimport { useRoutes } from \"react-router-dom\";\nimport routes from './router'\n// 判断当前视口是否为移动端大小\nexport const checkIsMobile = () => {\n  return window.innerWidth <= 620\n}\n// 保存是否移动端状态的 context\nexport const IsMobileContext = createContext<boolean>(false)\nconst App: React.FC = () => {\n  const [isMobile, setIsMobile] = useState(checkIsMobile)\n  useEffect(() => {\n    const resizeHandler = () => {\n      const currentIsMobile = checkIsMobile()\n      setIsMobile(currentIsMobile)\n    }\n    // 监听 window 的 resize 事件，窗口大小改变时重新计算 isMobile 的值\n    window.addEventListener('resize', resizeHandler)\n    // 组件销毁时取消事件监听\n    return () => window.removeEventListener('resize', resizeHandler)\n  }, [])\n  useLayoutEffect(() => {\n    type BodyClassName = 'pc' | 'mobile'\n    const bodyClass: BodyClassName = isMobile ? 'mobile' : 'pc'\n    const classToRemove: BodyClassName = bodyClass === 'mobile' ? 'pc' : 'mobile'\n    document.body.classList.remove(classToRemove)\n    document.body.classList.add(bodyClass)\n  }, [isMobile])\n  // i18n 语言\n  // const value = {\n  //   locale: getLocale(),\n  //   setLocale,\n  // }\n  const [locale, setLocaleState] = useState<Locale>('en');\n  // const dispatch = useAppDispatch();\n  // useEffect(() => {\n  //     dispatch(setMenus(defaultMenus));\n  // }, [dispatch]);\n  return (\n    <I18nContext.Provider value={{ locale, translations: translationsMap[locale], setLocale }}>\n      <IsMobileContext.Provider value={isMobile}>\n        <div className=\"main\">\n          <Greeting greetingKey=\"greeting\" />\n          <WelcomeMessage name=\"John\" />\n          {useRoutes(routes)}\n        </div>\n      </IsMobileContext.Provider>\n    </I18nContext.Provider>\n\n  );\n};\nconst Greeting: React.FC<{ greetingKey: string }> = ({ greetingKey }) => {\n  const { t } = useTranslation();\n  return <h1>{t(greetingKey)}</h1>;\n};\n\nconst WelcomeMessage: React.FC<{ name: string }> = ({ name }) => {\n  const { t } = useTranslation();\n  return <h1>{t('welcome_message', { name })}</h1>;\n};\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}